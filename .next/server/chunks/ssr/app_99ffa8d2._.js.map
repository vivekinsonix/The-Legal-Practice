{"version":3,"sources":["../../../../app/services/projectService.ts","../../../../app/%28pages%29/projectHome/page.tsx"],"sourcesContent":["import { apiClient } from './apiService';\r\n\r\nexport const getProjects = (params?: { categorySlug?: string }) => {\r\n  const filters: string[] = [];\r\n\r\n  if (params?.categorySlug) {\r\n    filters.push(`filters[project_category][slug][$eq]=${params.categorySlug}`);\r\n  }\r\n  const filterQuery = filters.length ? `&${filters.join('&')}` : '';\r\n\r\n  return apiClient.get(`/projects?populate=*&sort=createdAt:desc${filterQuery}`).then((res) => res.data);\r\n};\r\n\r\nexport const getProjectsCategories = () => {\r\n  return apiClient.get('/project-categories').then((res) => res.data);\r\n};\r\n","'use client';\r\nimport { getProjects } from '@/app/services/projectService';\r\nimport { ProjectCard } from '@/app/utils/Interfaces';\r\nimport Link from 'next/link';\r\nimport { useEffect, useState } from 'react';\r\n\r\nlet cachedProjects: ProjectCard[] | null = null;\r\n\r\nfunction ProjectCardSkeleton({ spanTwo = false }: { spanTwo?: boolean }) {\r\n  return (\r\n    <div className={`group relative overflow-hidden shadow-lg rounded-lg animate-pulse bg-gray-200 dark:bg-gray-800 h-75 ${spanTwo ? 'md:col-span-2' : ''}`}>\r\n      <div className=\"absolute inset-0 bg-gray-300 dark:bg-gray-700\" />\r\n      <div className=\"absolute inset-0 bg-linear-to-b from-transparent to-black/80 dark:to-black/90\" />\r\n      <div className=\"relative h-full flex flex-col items-center justify-between p-6\">\r\n        <div />\r\n        <div className=\"flex flex-col items-center space-y-3 w-full text-center\">\r\n          <div className=\"h-4 w-24 bg-gray-300 dark:bg-gray-700 rounded\" />\r\n          <div className=\"h-6 w-3/4 bg-gray-300 dark:bg-gray-700 rounded\" />\r\n        </div>\r\n        <div className=\"w-full flex justify-center\">\r\n          <div className=\"h-8 w-40 bg-gray-300 dark:bg-gray-700 rounded-full mt-2\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function ProjectsHome() {\r\n  const [projects, setProjects] = useState<ProjectCard[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchProjects = async () => {\r\n      try {\r\n        setLoading(true);\r\n        if (cachedProjects) {\r\n          setProjects(cachedProjects);\r\n          return;\r\n        }\r\n        const response = await getProjects();\r\n        const data: ProjectCard[] = response?.data || [];\r\n        setProjects(data);\r\n        cachedProjects = data;\r\n      } catch (err) {\r\n        console.error('Failed to fetch projects', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchProjects();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"p-40 animate-pulse\">\r\n        <div className=\"flex flex-col items-center text-center space-y-3 \">\r\n          <div className=\"h-6 w-50 bg-gray-500 rounded\" />\r\n          <div className=\"h-4 w-80 bg-gray-500 rounded\" />\r\n        </div>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 p-5\">{loading && Array.from({ length: 6 }).map((_, idx) => <ProjectCardSkeleton key={idx} spanTwo={false} />)}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!loading && projects?.length === 0) {\r\n    return <p className=\"col-span-full text-center text-red-500\">No Projects Found!</p>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <section id=\"projects\" className=\"py-16 md:px-0 px-4 md:py-24  bg-white\">\r\n        <div className=\"container mx-auto text-center mb-5\">\r\n          <p className=\"text-center text-gray-400 uppercase tracking-wider\">What We Do</p>\r\n          <h1 className=\"text-center text-3xl md:text-5xl font-extrabold mb-10\">Our Projects</h1>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 \">\r\n            {projects.slice(0, 5).map((project: any, index) => {\r\n              const isFifth = index === 4;\r\n\r\n              return (\r\n                <Link key={index} href={project?.link ?? '#'} className={`group w-full h-87.5 relative overflow-hidden shadow-lg cursor-pointer block ${isFifth ? 'md:col-span-2' : ''}`}>\r\n                  <div className=\"absolute inset-0 bg-cover bg-center transition-transform duration-500 group-hover:scale-110\" style={{ backgroundImage: `url(${project?.image?.url})` }} />\r\n                  <div className=\"absolute inset-0 bg-primary-900/80 group-hover:bg-black/20 transition-all duration-500\" />\r\n\r\n                  <div className=\"relative h-full flex flex-col items-center justify-between text-white p-6\">\r\n                    <div />\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-lg mb-3\">{project?.project_category?.label}</p>\r\n                      <h1 className=\"font-bold\">{project?.label}</h1>\r\n                    </div>\r\n                    <div className=\"w-full flex justify-center\">\r\n                      <span className=\"inline-block rounded-full bg-secondary px-5 py-2 text-sm font-semibold uppercase opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 transition-all duration-300\">Explore Projects →</span>\r\n                    </div>\r\n                  </div>\r\n                </Link>\r\n              );\r\n            })}\r\n          </div>\r\n          <div className=\"mt-10 text-center\">\r\n            {!loading && projects?.length > 5 && (\r\n              <Link href=\"/projects\" className=\"block w-full text-blue-500 hover:underline\">\r\n                View All Projects →\r\n              </Link>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}